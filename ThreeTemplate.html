<!doctype html>
<html lang = "en">
    <head>   
        <title>Testing Three!</title>
        <meta charset = 'utf-8'>
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    </head>

    <body>
    <div id = 'ThreeJS' style="z-index: 1; position: absolute; left:0px; top:0px">

    </div>

        <script src ='../js/detector.js'></script>
        <script src ="../js/three.min.js"></script>
        <script src ="../js/OrbitControls.js"></script>
        <script src ='../js/threex.keyboardstate.js'></script>
        <script src ='../js/threex.windowresize.js'></script>
        <script src ="../js/jquery-2.1.0.min.js"></script>

        <script>
        // Global Vars
        var camera, scene, renderer, geometry, material, controls, mesh;
        var keyboard = new THREEx.KeyboardState();
        init();
        //Game loop
        animate();
        
        function init() {
            scene             = new THREE.Scene();        
            var screen_Width  = window.innerWidth;
            var screen_Height = window.innerHeight;
            var view_Angle    = 45;
            var aspect        = screen_Width/screen_Height;
            var near          = 0.1;
            var far           = 20000;


            camera            = new THREE.PerspectiveCamera(view_Angle,aspect,near,far);


            scene.add(camera);
            camera.position.set(0,1000,0);
            camera.lookAt(scene.position);

            geometry          = new THREE.CubeGeometry( 400, 200, 200 );
            material          = new THREE.MeshLambertMaterial( { color: 0xff11aa}); 

            mesh              = new THREE.Mesh( geometry, material );
            scene.add( mesh );

            if(Detector.webgl){
                console.log('Webgl Found')
                renderer = new THREE.WebGLRenderer({antialias:true});
            }
            else{
                console.log('WebGL Not here')
                renderer = new THREE.CanvasRenderer();
            
            }

            renderer.setSize( screen_Width, screen_Height);
            container = document.getElementById( 'ThreeJS');
            container.appendChild( renderer.domElement );

            THREEx.WindowResize(renderer,camera);

            controls = new THREE.OrbitControls(camera,renderer.domElement);
            var light = new THREE.PointLight(0xffffff);
            light.position.set(0,500,0);
            scene.add(light);
            var ambientLight = new THREE.AmbientLight(0x111111);
            scene.add(ambientLight);
        }
        

        function animate() {
            // note: three.js includes requestAnimationFrame shim
            requestAnimationFrame( animate );
            renderer.render(scene,camera);
            mesh.rotation.z  += 0.01;
            controls.update();
            renderer.render( scene, camera );
        }


        </script>
    </body>
</html>